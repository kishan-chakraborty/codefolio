---
import Header from "../components/Header.astro";
import Sidebar from "../components/Sidebar.astro";

const { frontmatter } = Astro.props as any;
const pageTitle = `${frontmatter?.title ?? "Post"} | Kishan Chakraborty`;

// Compute parent URL dynamically
const currentPath = Astro.url.pathname;
const parentPath = currentPath.replace(/\/[^/]+\/?$/, "/");
---

<!DOCTYPE html>
<html>
  <Header title={pageTitle} />
  <body>
    <div class="content">
      <Sidebar selectedItem="blog" />
      <nav class="main">
        <div class="container">
          <div class="back-nav-container">
            <a href={parentPath} class="back-nav-button w-inline-block">
              <img src="/assets/back.svg" loading="lazy" alt="" class="back-nav-img" />
              <div>Back</div>
            </a>
          </div>
          <div class="content-container">
            <h3>{frontmatter?.title}</h3>
            <slot />
          </div>
        </div>
      </nav>
    </div>
  </body>
  <style is:global>

  /* --- Markdown readability fixes (scoped to BlogPost layout) --- */

  /* Body text inside markdown posts */
  .content-container {
    color: #e8e8e8;
    font-size: 110%;
  }

  /* Headings */
  .content-container h1,
  .content-container h2,
  .content-container h3,
  .content-container h4,
  .content-container h5,
  .content-container h6 {
    color: #ffffff;
  }

  /* Paragraphs and list items */
  .content-container p,
  .content-container li {
    color: #ffffff;
  }

  /* Links */
  .content-container a {
    color: #ffffff;
    text-decoration: none;
  }
  .content-container a:hover {
    text-decoration: underline;
  }

  /* Code and preformatted blocks */
  .content-container pre,
  .content-container code {
    color: #ffffff;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 6px;
    padding: 0.2em 0.4em;
  }
  </style>

  <style is:global>
  /* Override KaTeX default spacing and alignment globally */
  .katex-display {
  }

  .katex-display > .katex {
    font-size: 1.3em !important;
    color: #ffffff;
    text-align: center !important;
    margin-top: 0.1em !important;
    margin-bottom: 0.1em !important;
  }

  /* optional: match text line spacing more closely */
  p + .katex-display,
  .katex-display + p {
    margin-top: 0.1em !important;
    margin-bottom: 0.1em !important;
}
</style>

<style>
/* ðŸª¶ Tighten list spacing inside blog posts */
.content-container ul,
.content-container ol {
  margin-top: 0.4em;   /* reduce space above list */
  margin-bottom: 0.4em; /* reduce space below list */
  padding-left: 1.4em;  /* standard indent */
}

/* Reduce space between list items themselves */
.content-container li {
  margin-bottom: 0.2em !important; /* less vertical gap between bullets */
}

/* Optional: smaller gap between paragraph and list */
.content-container p + ul,
.content-container p + ol {
  margin-top: 0.2em;
}

/* Optional: smaller gap between list and next paragraph */
.content-container ul + p,
.content-container ol + p {
  margin-top: 0.4em;
}
</style>

</html>