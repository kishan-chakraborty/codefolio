---
import Header from "../components/Header.astro";
import Sidebar from "../components/Sidebar.astro";

const { frontmatter } = Astro.props as any;
const pageTitle = `${frontmatter?.title ?? "Post"} | Kishan Chakraborty`;

// Compute parent URL dynamically
const currentPath = Astro.url.pathname;
const parentPath = currentPath.replace(/\/[^/]+\/?$/, "/");
---

<!DOCTYPE html>
<html>
  <Header title={pageTitle} />
  <body>
    <div class="content">
      <Sidebar selectedItem="blog" />
      <nav class="main">
        <div class="container">
          <div class="back-nav-container">
            <a href={parentPath} class="back-nav-button w-inline-block">
              <img src="/assets/back.svg" loading="lazy" alt="" class="back-nav-img" />
              <div>Back</div>
            </a>
          </div>
          <div class="content-container">
            <h3>{frontmatter?.title}</h3>
            <slot />
          </div>
        </div>
      </nav>
    </div>
  </body>
  <style>
  /* --- Markdown readability fixes (scoped to BlogPost layout) --- */

  /* Body text inside markdown posts */
  .content-container {
    color: #e8e8e8;
  }

  /* Headings */
  .content-container h1,
  .content-container h2,
  .content-container h3,
  .content-container h4,
  .content-container h5,
  .content-container h6 {
    color: #ffffff;
  }

  /* Paragraphs and list items */
  .content-container p,
  .content-container li {
    color: #ffffff;
  }

  /* Links */
  .content-container a {
    color: #ffffff;
    text-decoration: none;
  }
  .content-container a:hover {
    text-decoration: underline;
  }

  /* Code and preformatted blocks */
  .content-container pre,
  .content-container code {
    color: #ffffff;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 6px;
    padding: 0.2em 0.4em;
  }

  /* KaTeX (math equations) */
  .content-container .katex,
  .content-container .katex-display {
    color: #F6F6F6 !important;
  }
  </style>

</html>